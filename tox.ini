[tox]
envlist = py27, pypy, py35, py36, pep8, cov

[testenv]
commands = nosetests {posargs:-v}
deps = -r{toxinidir}/requirements_test.txt

[testenv:cov]
setenv =
    COVERAGE_FILE = .coverage
deps = -r{toxinidir}/requirements_test.txt      
commands = coverage erase
           coverage run {envbindir}/nosetests
           coverage report -m

[flake8]
ignore = C901
import-order-style = google
exclude =
    .git,
    .tox,
    __pycache__,
    docs/source/conf.py,
    setup.py,
    old,
    build,
    dist
max-complexity = 10

[testenv:pep8]
deps = -r{toxinidir}/requirements_test.txt
commands =
  flake8 {posargs}